# Development Philosophy

PyTorch의 자유로운 모듈 작성 방식은 실험 구성 간 인터페이스 불일치와 모듈 간 의존성을 높일 수 있습니다. CVLab-Kit은 PyTorch를 기반으로도 실험 환경의 반복 실험과 빠른 프로토타이핑을 위해 다음과 같은 개발 철학을 바탕으로 설계되었습니다:

## 1. Automatic Grid Search

- YAML 안의 리스트 타입으로 설정된 값들이 자동으로 조합되어 반복 실험을 수행합니다.

## 2. Component Interface

- `cvlabkit/component/base` 디렉토리에 컴포넌트의 추상 클래스를 정의함으로써, 모든 하위 클래스가 동일한 인터페이스를 가지도록 합니다. 이는 코드 일관성을 유지하고 확장성을 높입니다.
- **명명 규칙**: 각 컴포넌트의 인터페이스가 되는 추상 클래스는 다음과 같은 명명 규칙을 따라야 합니다:
    - 클래스명은 파스칼 케이스(PascalCase)여야 합니다 (예: `DataLoader`, `Optimizer`).
    - 파일명은 스네이크 케이스(snake_case)여야 합니다 (예: `data_loader.py`, `optimizer.py`).
    - 클래스명과 파일명의 영문 구성은 동일해야 하며, 케이스만 달라야 합니다. 예를 들어, `data_loader.py` 파일에는 `DataLoader` 클래스가 있어야 합니다.


## 3. Dependency Resolution

1. **상속 의존성**: 컴포넌트의 추상 클래스에 상속을 통해 모델, 옵티마이저, 데이터셋 등이 가지고 있는 공통된 상속을 강제하여 PyTorch의 상속 의존성을 일괄적으로 해결합니다. 이를 통해 사용자 정의 모듈이 자동 탐색·호출될 때도 일관성 있게 작동하도록 보장합니다.

2. **컴포넌트 간 의존성**: `Creator`를 통한 단계적 생성과 명시적 변수 입력 방식으로 수행됩니다. 예를 들어 모델 파라미터(`model.parameters()`)는 모델 객체가 생성된 이후에야 얻을 수 있으므로, `Creator`가 먼저 모델을 생성한 뒤 해당 파라미터를 옵티마이저 생성 시 인자(`create.optimizer(model.parameters())`)으로 전달합니다.

3. **객체 속성 의존성**: `Creator`가 `Config`의 객체를 기반으로 생성되고, 이를 컴포넌트 생성 시 스탬프 결합을 통해, 모델, 옵티마이저, 데이터 로더 간 필요한 공통된 의존성을 자동으로 주입해 관리하며, 개별 파라미터와 공통 파라미터(e.g. `cfg.num_class`, `cfg.channel` 등)를 일관되게 전달합니다.

모든 컴포넌트의 속성은 설정 객체를 생성자를 통해 주입받아 설정값 기반으로 일관되게 동작하며, 객체 간 의존성(모델 파라미터 등)은 직접 의존성 주입을 통해 관리합니다. 이를 통해 설정값과 의존성 인자를 명확히 분리해 프로토타이핑 범용성을 높입니다.
