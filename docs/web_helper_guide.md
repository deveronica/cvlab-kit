# Web Helper ê°€ì´ë“œ

> ì›¹ ê¸°ë°˜ ì‹¤í—˜ ê´€ë¦¬ ë° ê²°ê³¼ ë¶„ì„ í”Œë«í¼

Web HelperëŠ” CVLab-Kitì˜ ì›¹ ì¸í„°í˜ì´ìŠ¤ë¡œ, ì‹¤í—˜ ì‹¤í–‰, ëª¨ë‹ˆí„°ë§, ê²°ê³¼ ë¶„ì„ì„ í•œ ê³³ì—ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” í†µí•© í”Œë«í¼ì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

### ğŸ¯ ì‹¤ì‹œê°„ ì‹¤í—˜ ëª¨ë‹ˆí„°ë§
- **GPU ì‚¬ìš©ë¥  ì¶”ì **: 3ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸ë˜ëŠ” ì‹¤ì‹œê°„ heartbeat
- **í ì‹œìŠ¤í…œ**: ì—¬ëŸ¬ ì‹¤í—˜ì„ ìë™ìœ¼ë¡œ ìˆœì°¨ ì‹¤í–‰
- **SSE ìŠ¤íŠ¸ë¦¬ë°**: ë¡œê·¸, ë©”íŠ¸ë¦­, ìƒíƒœ ë³€í™” ì‹¤ì‹œê°„ ë°˜ì˜

### ğŸ“Š ê²°ê³¼ ë¶„ì„ ë° ë¹„êµ
- **ë©”íŠ¸ë¦­ ë¹„êµ í…Œì´ë¸”**: ì—¬ëŸ¬ ì‹¤í—˜ ê²°ê³¼ë¥¼ í•œëˆˆì— ë¹„êµ
- **ì°¨íŠ¸ ì‹œê°í™”**: í•™ìŠµ ê³¡ì„ , ì„±ëŠ¥ ì¶”ì´, í†µê³„ ë¶„ì„
- **í•„í„°ë§ ë° ì •ë ¬**: í”„ë¡œì íŠ¸, ë©”íŠ¸ë¦­, ë‚ ì§œë³„ í•„í„°ë§

### ğŸŒ ë¶„ì‚° ì‹¤í–‰ ì§€ì›
- **Server-Client êµ¬ì¡°**: ì¤‘ì•™ ì„œë²„ê°€ ì—¬ëŸ¬ GPU í´ë¼ì´ì–¸íŠ¸ ê´€ë¦¬
- **ìë™ ë¶€í•˜ ë¶„ì‚°**: idle GPUì— ì‹¤í—˜ ìë™ í• ë‹¹
- **ë¡œê·¸ ë™ê¸°í™”**: ì›ê²© ì‹¤í–‰ ê²°ê³¼ë¥¼ ìë™ìœ¼ë¡œ ì¤‘ì•™ ì„œë²„ì— ë™ê¸°í™”

---

## ì‹œì‘í•˜ê¸°

### ë¡œì»¬ ì‹¤í–‰

**Backendë§Œ ì‹¤í–‰** (í”„ë¡œë•ì…˜):
```bash
uv run app.py
```

**Frontend + Backend ê°œë°œ ëª¨ë“œ**:
```bash
uv run app.py --dev
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8000`ì— ì ‘ì†í•˜ì„¸ìš”.

### Synology NAS ë°°í¬

**1. compose.yml ë‹¤ìš´ë¡œë“œ:**
- ë¸Œë¼ìš°ì €ì—ì„œ [`docker/compose.yml`](https://raw.githubusercontent.com/deveronica/cvlab-kit/main/docker/compose.yml) ì—´ê¸°
- ìš°í´ë¦­ â†’ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥ â†’ `compose.yml`

**2. File Station ì—…ë¡œë“œ:**
- File Station â†’ `/docker/` í´ë” ìƒì„±
- `compose.yml` ì—…ë¡œë“œ

**3. Container Manager í”„ë¡œì íŠ¸ ìƒì„±:**
- Container Manager â†’ **í”„ë¡œì íŠ¸** íƒ­ â†’ **ìƒˆë¡œ ë§Œë“¤ê¸°**
- ê²½ë¡œ: `/docker` ì„ íƒ
- íŒŒì¼: `compose.yml` ì„ íƒ
- í”„ë¡œì íŠ¸ ì´ë¦„: `cvlab-kit` ì…ë ¥
- **ì™„ë£Œ** â†’ ìë™ ë¹Œë“œ (5ë¶„ ì†Œìš”)

**4. ì ‘ì†:**
```
http://nas-ip:8000
```

**ì—…ë°ì´íŠ¸:**
- Container Manager â†’ ì»¨í…Œì´ë„ˆ ì„ íƒ â†’ **ì¬ì‹œì‘** (ìë™ git pull)

**ë°ì´í„° ìœ„ì¹˜:**
- ë¡œê·¸: `/docker/cvlab-kit/logs/`
- ì¶œë ¥: `/docker/cvlab-kit/outputs/`
- DB: `/docker/cvlab-kit/web_helper/state/`

**ì„¤ì • ë³€ê²½ (ì„ íƒ):**
- `compose.yml`ì—ì„œ `GIT_REPO` ìˆ˜ì • â†’ ë³¸ì¸ repository ì‚¬ìš©

### ë¶„ì‚° ì‹¤í–‰

**ì„œë²„** (ì¤‘ì•™ ê´€ë¦¬):
```bash
uv run app.py --server-only --host 0.0.0.0
```

**í´ë¼ì´ì–¸íŠ¸ 1**:
```bash
uv run app.py --client-only --url http://server-ip:8000
```

**í´ë¼ì´ì–¸íŠ¸ 2**:
```bash
uv run app.py --client-only --url http://server-ip:8000
```

---

## ì¸í„°í˜ì´ìŠ¤ êµ¬ì„±

### 1. Dashboard

**ì‹œìŠ¤í…œ ì „ì²´ ê°œìš”**

![Dashboard](assets/web-ui-dashboard.png)

**ì£¼ìš” ê¸°ëŠ¥**:

- ì „ì²´ í”„ë¡œì íŠ¸ í˜„í™© (í”„ë¡œì íŠ¸ ìˆ˜, ì´ ì‹¤í—˜ ìˆ˜)
- ìµœê·¼ ì‹¤í—˜ ì‹¤í–‰ íƒ€ì„ë¼ì¸
- GPU ì‚¬ìš©ë¥  ëª¨ë‹ˆí„°ë§
- ì‹œìŠ¤í…œ ìƒíƒœ í•œëˆˆì— íŒŒì•…

---

### 2. Projects íƒ­

**í”„ë¡œì íŠ¸ë³„ ì‹¤í—˜ ê²°ê³¼ ê´€ë¦¬**

![Projects](assets/web-ui-projects.png)

**ì£¼ìš” ê¸°ëŠ¥**:

- í”„ë¡œì íŠ¸ë³„ ì‹¤í—˜ ê²°ê³¼ ëª©ë¡
- Run ì´ë¦„, ë‚ ì§œ, ë©”íŠ¸ë¦­ í•œëˆˆì— í™•ì¸
- ì‹¤í—˜ ì¬ì‹¤í–‰, ì‚­ì œ, ì„¤ì • í™•ì¸

**ì›Œí¬í”Œë¡œìš°**:

1. í”„ë¡œì íŠ¸ ì„ íƒ â†’ ì‹¤í—˜ ëª©ë¡ í™•ì¸
2. íŠ¹ì • ì‹¤í—˜ í´ë¦­ â†’ ìƒì„¸ ì •ë³´ ëª¨ë‹¬ ì—´ë¦¼
3. ì„¤ì • YAML í™•ì¸ â†’ ì¬ì‹¤í–‰ ê°€ëŠ¥

**í”„ë¡œì íŠ¸ ìƒì„¸ í™”ë©´**:

![Project Detail](assets/web-ui-project-detail.png)

- **Timeline**: ì‹¤í—˜ ì‹¤í–‰ ì‹œê°„ë³„ ë¶„í¬
- **Statistics**: í•µì‹¬ ë©”íŠ¸ë¦­ í†µê³„
- **AI Recommendations**: ì„±ëŠ¥ ê°œì„  ì œì•ˆ

---

### 3. Execute íƒ­

**ìƒˆë¡œìš´ ì‹¤í—˜ ì„¤ì • ë° ì‹¤í–‰**

![Execute](assets/web-ui-execute.png)

**ì£¼ìš” ê¸°ëŠ¥**:

- YAML ì„¤ì • ì—ë””í„° (CodeMirror)
- Dry-run ê²€ì¦ ë²„íŠ¼
- Grid Search ìë™ í™•ì¥ ë¯¸ë¦¬ë³´ê¸°
- íì— ì¶”ê°€ ë˜ëŠ” ì¦‰ì‹œ ì‹¤í–‰

**ì›Œí¬í”Œë¡œìš°**:

1. **YAML ì‘ì„±**: ì—ë””í„°ì—ì„œ ì„¤ì • íŒŒì¼ ì‘ì„±/ìˆ˜ì •
2. **Dry-run ê²€ì¦**: "Validate" ë²„íŠ¼ìœ¼ë¡œ ì„¤ì • ê²€ì¦
3. **Grid Search í™•ì¸**: ë¦¬ìŠ¤íŠ¸ ê°’ì´ ìˆìœ¼ë©´ ëª‡ ê°œ ì‹¤í—˜ ìƒì„±ë˜ëŠ”ì§€ í™•ì¸
4. **íì— ì¶”ê°€**: "Add to Queue" ë²„íŠ¼ìœ¼ë¡œ ì‹¤í—˜ ëŒ€ê¸°ì—´ì— ì¶”ê°€

**íŒ**:

- `Ctrl+Space`: ìë™ì™„ì„±
- `Ctrl+F`: ê²€ìƒ‰
- Grid Search ì‚¬ìš© ì‹œ: `lr: [0.001, 0.01, 0.1]` í˜•íƒœë¡œ ì‘ì„±

---

### 4. Queue íƒ­

**ì‹¤í—˜ ëŒ€ê¸°ì—´ ë° ì‹¤í–‰ ìƒíƒœ ê´€ë¦¬**

![Queue](assets/web-ui-queue.png)

**ì£¼ìš” ê¸°ëŠ¥**:

- ì‹¤ì‹œê°„ í ìƒíƒœ í™•ì¸ (Pending, Running, Completed, Failed)
- ì‹¤í—˜ ì·¨ì†Œ, ìš°ì„ ìˆœìœ„ ë³€ê²½
- ë¡œê·¸ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°
- ì‹¤í–‰ ì‹œê°„, ë‚¨ì€ epoch í™•ì¸

**ìƒíƒœ í‘œì‹œ**:

- ğŸŸ¡ **Pending**: ëŒ€ê¸° ì¤‘
- ğŸ”µ **Running**: ì‹¤í–‰ ì¤‘
- ğŸŸ¢ **Completed**: ì™„ë£Œ
- ğŸ”´ **Failed**: ì‹¤íŒ¨

**ì›Œí¬í”Œë¡œìš°**:

1. ì‹¤í—˜ì´ íì— ì¶”ê°€ë˜ë©´ ìë™ìœ¼ë¡œ idle GPU íƒìƒ‰
2. GPUê°€ ì‚¬ìš© ê°€ëŠ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì‹¤í—˜ ì‹œì‘
3. ì‹¤í–‰ ì¤‘ ë¡œê·¸ëŠ” ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œ
4. ì™„ë£Œë˜ë©´ ë‹¤ìŒ ì‹¤í—˜ì´ ìë™ìœ¼ë¡œ ì‹œì‘

---

### 5. Monitoring íƒ­

**GPU ì„œë²„ ëª¨ë‹ˆí„°ë§**

![Monitoring](assets/web-ui-monitoring.png)

**ì£¼ìš” ê¸°ëŠ¥**:

- ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì˜ GPU ìƒíƒœ ì‹¤ì‹œê°„ í™•ì¸
- GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ , ì˜¨ë„, ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤
- 3ì´ˆë§ˆë‹¤ heartbeat ì—…ë°ì´íŠ¸
- Idle/Busy ìƒíƒœ ìë™ ê°ì§€

**ì •ë³´ í‘œì‹œ**:

- **Device Name**: ì„œë²„ ì´ë¦„
- **GPU Model**: GPU ì¢…ë¥˜ (e.g., NVIDIA RTX 3090)
- **Memory**: ì‚¬ìš© ì¤‘ / ì „ì²´ ë©”ëª¨ë¦¬ (e.g., 8GB / 24GB)
- **Utilization**: GPU ì‚¬ìš©ë¥  (%)
- **Status**: idle (ë…¹ìƒ‰) / busy (ë¹¨ê°•)

**íŒ**:

- Heartbeatì´ 3ì´ˆ ì´ìƒ ëŠê¸°ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ í‘œì‹œë¨
- ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ì‹œ ë¶€í•˜ ë¶„ì‚° ìë™ ì²˜ë¦¬

**ë””ë°”ì´ìŠ¤ ì‚­ì œ**:

- Disconnected ìƒíƒœ (60ì´ˆ ì´ìƒ heartbeat ì—†ìŒ)ì˜ ë””ë°”ì´ìŠ¤ë§Œ ì‚­ì œ ê°€ëŠ¥
- ì¹´ë“œ ìš°ì¸¡ ìƒë‹¨ì˜ íœ´ì§€í†µ ì•„ì´ì½˜ í´ë¦­
- ì‚­ì œ í›„ ëª©ë¡ì—ì„œ ìë™ìœ¼ë¡œ ì œê±°

---

### 6. Results íƒ­

**ì‹¤í—˜ ì‹¤í–‰ ì´ë ¥ ë° ê²°ê³¼ ë¶„ì„**

![Results](assets/web-ui-results.png)

**ì£¼ìš” ê¸°ëŠ¥**:

- ëª¨ë“  ì‹¤í—˜ ì‹¤í–‰ ì´ë ¥ì„ ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬
- ì‹¤í—˜ ìƒíƒœ, ë©”íŠ¸ë¦­, ì‹¤í–‰ ì‹œê°„ í™•ì¸
- í”„ë¡œì íŠ¸ë³„ í•„í„°ë§
- ì‹¤í—˜ ì¬ì‹¤í–‰ ë° ìƒì„¸ ì •ë³´ í™•ì¸

**ì›Œí¬í”Œë¡œìš°**:

1. **íƒ€ì„ë¼ì¸ í™•ì¸**: ìµœê·¼ ì‹¤í–‰ëœ ì‹¤í—˜ë“¤ì˜ ì‹œê°„ë³„ ë¶„í¬
2. **í•„í„°ë§**: í”„ë¡œì íŠ¸, ìƒíƒœ, ë‚ ì§œë³„ë¡œ í•„í„°ë§
3. **ìƒì„¸ í™•ì¸**: ì‹¤í—˜ í´ë¦­ ì‹œ ë©”íŠ¸ë¦­, ì„¤ì •, ë¡œê·¸ í™•ì¸
4. **ë¹„êµ ë¶„ì„**: ì—¬ëŸ¬ ì‹¤í—˜ ì„ íƒ í›„ ë©”íŠ¸ë¦­ ë¹„êµ

**íŒ**:

- í…Œì´ë¸” ì»¬ëŸ¼ ì •ë ¬ ê°€ëŠ¥ (í´ë¦­)
- ê²€ìƒ‰ìœ¼ë¡œ íŠ¹ì • ì‹¤í—˜ ë¹ ë¥´ê²Œ ì°¾ê¸°
- ì‹¤íŒ¨í•œ ì‹¤í—˜ì€ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œì‹œ

**ì„¤ì • í•­ëª©**:

- **Log Directory**: `./logs/` (ê¸°ë³¸ê°’)
- **Refresh Interval**: SSE ì—…ë°ì´íŠ¸ ì£¼ê¸° (ê¸°ë³¸ 3ì´ˆ)
- **Theme**: Light/Dark ëª¨ë“œ
- **Reindex**: ë¡œê·¸ íŒŒì¼ ê°•ì œ ì¬ìŠ¤ìº”

---

### 7. Components íƒ­

**Agent ë° Component ë²„ì „ ê´€ë¦¬**

**ì£¼ìš” ê¸°ëŠ¥**:

- ëª¨ë“  Agent/Componentì˜ ë²„ì „ íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- ì½”ë“œ ë·°ì–´ (Outline ë„¤ë¹„ê²Œì´ì…˜ í¬í•¨)
- ë²„ì „ ë¹„êµ ë° ë¡¤ë°±
- ë¡œì»¬ íŒŒì¼ ìŠ¤ìº” ë° ì„œë²„ ë™ê¸°í™”

**ì¸í„°í˜ì´ìŠ¤ êµ¬ì„±**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Components                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Category     â”‚ Code Viewer              â”‚ Outline           â”‚
â”‚ â”œâ”€ agent     â”‚                          â”‚                   â”‚
â”‚ â”œâ”€ model     â”‚ # Component ì½”ë“œ         â”‚ â”œâ”€ Class          â”‚
â”‚ â”œâ”€ transform â”‚ class MyModel(Model):    â”‚ â”‚ â”œâ”€ __init__     â”‚
â”‚ â””â”€ ...       â”‚   def forward(self, x):  â”‚ â”‚ â””â”€ forward      â”‚
â”‚              â”‚     ...                   â”‚ â””â”€ Function       â”‚
â”‚ Components   â”‚                          â”‚                   â”‚
â”‚ â”œâ”€ resnet18  â”‚                          â”‚                   â”‚
â”‚ â””â”€ unet      â”‚                          â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì›Œí¬í”Œë¡œìš°**:

1. **ì¹´í…Œê³ ë¦¬ ì„ íƒ**: ì¢Œì¸¡ì—ì„œ agent, model, transform ë“± ì„ íƒ
2. **ì»´í¬ë„ŒíŠ¸ ì„ íƒ**: í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ì»´í¬ë„ŒíŠ¸ ëª©ë¡ì—ì„œ ì„ íƒ
3. **ì½”ë“œ í™•ì¸**: ì¤‘ì•™ ì½”ë“œ ë·°ì–´ì—ì„œ í˜„ì¬ í™œì„± ë²„ì „ ì½”ë“œ í™•ì¸
4. **Outline ë„¤ë¹„ê²Œì´ì…˜**: ìš°ì¸¡ Outlineì—ì„œ í´ë˜ìŠ¤/í•¨ìˆ˜ í´ë¦­ ì‹œ í•´ë‹¹ ìœ„ì¹˜ë¡œ ìŠ¤í¬ë¡¤
5. **ë²„ì „ ê´€ë¦¬**: Version Historyì—ì„œ ê³¼ê±° ë²„ì „ í™•ì¸ ë° Activateë¡œ ë¡¤ë°±

**ë²„íŠ¼**:

- **Scan Local**: ë¡œì»¬ `cvlabkit/` í´ë” ìŠ¤ìº” í›„ ìƒˆ ë²„ì „ ë“±ë¡
- **Activate**: ì„ íƒí•œ ë²„ì „ì„ í™œì„± ë²„ì „ìœ¼ë¡œ ì„¤ì • (ë¡¤ë°±)
- **View**: ê³¼ê±° ë²„ì „ ì½”ë“œ í™•ì¸

**íŒ**:

- ì½”ë“œ ë³€ê²½ í›„ Scan Localë¡œ ìƒˆ ë²„ì „ ë“±ë¡
- Outline í´ë¦­ìœ¼ë¡œ ê¸´ íŒŒì¼ì—ì„œ ë¹ ë¥´ê²Œ ì´ë™
- ë¬¸ì œ ë°œìƒ ì‹œ ì´ì „ ë²„ì „ìœ¼ë¡œ ì¦‰ì‹œ ë¡¤ë°± ê°€ëŠ¥

ìì„¸í•œ ë‚´ìš©: [Component Sync ë¬¸ì„œ](component-sync.md)

---

### 8. Notification ì‹œìŠ¤í…œ

**ìš°ì¸¡ ìŠ¬ë¼ì´ë“œ ì•Œë¦¼ íŒ¨ë„**

**ì£¼ìš” ê¸°ëŠ¥**:

- ì‚¬ìš©ì ì‘ë‹µì´ í•„ìš”í•œ ì•Œë¦¼ ê´€ë¦¬
- Component ë²„ì „ ì¶©ëŒ ì‹œ í•´ê²° ì˜µì…˜ ì œê³µ
- ë¯¸ì‘ë‹µ ì•Œë¦¼ ìë™ ì €ì¥ (í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìœ ì§€)

**ì•Œë¦¼ ìœ í˜•**:

| ìœ í˜• | ì„¤ëª… | ì•¡ì…˜ |
|------|------|------|
| `sync_conflict` | ë¡œì»¬-ì„œë²„ ë²„ì „ ì¶©ëŒ | Upload / Download / Skip |
| `info` | ì¼ë°˜ ì •ë³´ | í™•ì¸ |
| `warning` | ê²½ê³  | í™•ì¸ |
| `error` | ì˜¤ë¥˜ | í™•ì¸ |

**Sync Conflict ì•Œë¦¼**:

ë¡œì»¬ ì½”ë“œê°€ ì„œë²„ì™€ ë‹¤ë¥¼ ë•Œ Interactive ëª¨ë“œì—ì„œ ì•Œë¦¼ ë°œìƒ:

- **Upload to Server**: ë¡œì»¬ ë²„ì „ì„ ì„œë²„ì— ì—…ë¡œë“œí•˜ê³  í™œì„±í™”
- **Download from Server**: ì„œë²„ ë²„ì „ìœ¼ë¡œ ë¡œì»¬ ë®ì–´ì“°ê¸°
- **Skip**: ë™ê¸°í™”í•˜ì§€ ì•Šê³  ë¡œì»¬ ìœ ì§€

**ì‚¬ìš©ë²•**:

1. í—¤ë” ìš°ì¸¡ ë²¨ ì•„ì´ì½˜ í´ë¦­
2. ì•Œë¦¼ íŒ¨ë„ì´ ìš°ì¸¡ì—ì„œ ìŠ¬ë¼ì´ë“œ
3. ê° ì•Œë¦¼ì—ì„œ ì›í•˜ëŠ” ì•¡ì…˜ ì„ íƒ
4. ì²˜ë¦¬ëœ ì•Œë¦¼ì€ ìë™ìœ¼ë¡œ ì œê±°

**ë¯¸ì‘ë‹µ ì•Œë¦¼**:

- ë¸Œë¼ìš°ì € localStorageì— ìë™ ì €ì¥
- ë‹¤ìŒ ì„¸ì…˜ì—ì„œë„ ì•Œë¦¼ ìœ ì§€
- ë²¨ ì•„ì´ì½˜ì— ë¯¸ì½ìŒ ê°œìˆ˜ í‘œì‹œ

---

## ì‹¤ì‹œê°„ ê¸°ëŠ¥

### SSE (Server-Sent Events)

Web HelperëŠ” SSEë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒ ì •ë³´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤:

```typescript
// Frontend: SSE ì—°ê²° (ìë™)
const eventSource = new EventSource('/events/stream');

eventSource.addEventListener('device_update', (event) => {
  // GPU ìƒíƒœ ì—…ë°ì´íŠ¸
});

eventSource.addEventListener('queue_update', (event) => {
  // í ìƒíƒœ ì—…ë°ì´íŠ¸
});

eventSource.addEventListener('metric_update', (event) => {
  // ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
});
```

**ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸**:

- `device_update`: GPU heartbeat (3ì´ˆë§ˆë‹¤)
- `device_removed`: ë””ë°”ì´ìŠ¤ ì‚­ì œ ì•Œë¦¼
- `queue_update`: í ìƒíƒœ ë³€í™” (ì‹¤í—˜ ì¶”ê°€/ì‹œì‘/ì™„ë£Œ)
- `metric_update`: ìƒˆë¡œìš´ ë©”íŠ¸ë¦­ ê¸°ë¡
- `log_update`: ì‹¤í–‰ ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°

---

## API ì—”ë“œí¬ì¸íŠ¸

### í”„ë¡œì íŠ¸ ë° ì‹¤í—˜

```bash
## ëª¨ë“  í”„ë¡œì íŠ¸ ëª©ë¡
GET /api/projects

## íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ì‹¤í—˜ ëª©ë¡
GET /api/runs?project=my_project

## ì‹¤í—˜ ìƒì„¸ ì •ë³´
GET /api/run/{project}/{run_name}

## ì‹¤í—˜ ì¬ì‹¤í–‰
POST /api/run/rerun
{
  "project": "my_project",
  "run_name": "experiment_1",
  "config": {...}
}
```

### í ê´€ë¦¬

```bash
## íì— ì‹¤í—˜ ì¶”ê°€
POST /api/queue/add
{
  "project": "my_project",
  "config_yaml": "...",
  "priority": 0
}

## í ëª©ë¡
GET /api/queue

## ì‹¤í—˜ ì·¨ì†Œ
POST /api/queue/cancel/{experiment_id}
```

### ë””ë°”ì´ìŠ¤ ëª¨ë‹ˆí„°ë§

```bash
## ë””ë°”ì´ìŠ¤ ëª©ë¡
GET /api/devices

## Heartbeat ì „ì†¡ (í´ë¼ì´ì–¸íŠ¸)
POST /api/devices/heartbeat
{
  "device_name": "gpu_server_01",
  "gpus": [...]
}

## ë””ë°”ì´ìŠ¤ ì‚­ì œ (disconnected ìƒíƒœë§Œ ê°€ëŠ¥)
DELETE /api/devices/{host_id}
```

### Component ë²„ì „ ê´€ë¦¬

```bash
## ì „ì²´ ë²„ì „ ëª©ë¡
GET /api/components/versions

## ì¹´í…Œê³ ë¦¬ë³„ ëª©ë¡
GET /api/components/versions/{category}

## íŠ¹ì • ì»´í¬ë„ŒíŠ¸ ë²„ì „ íˆìŠ¤í† ë¦¬
GET /api/components/versions/{category}/{name}

## í•´ì‹œë¡œ ì½”ë“œ ì¡°íšŒ
GET /api/components/versions/hash/{hash}

## ìƒˆ ë²„ì „ ì—…ë¡œë“œ
POST /api/components/versions/upload
{
  "path": "agent/classification.py",
  "content": "..."
}

## ë²„ì „ í™œì„±í™” (ë¡¤ë°±)
POST /api/components/versions/activate
{
  "hash": "a1b2c3d4e5f6..."
}

## ë¡œì»¬ ìŠ¤ìº” í›„ ë“±ë¡
POST /api/components/versions/scan
```

### ì‹¤ì‹œê°„ ì´ë²¤íŠ¸

```bash
## SSE ìŠ¤íŠ¸ë¦¼ ì—°ê²°
GET /events/stream
```

---

## íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¡°

Web HelperëŠ” íŒŒì¼ ê¸°ë°˜ í†µì‹ ì„ ì‚¬ìš©í•˜ì—¬ cvlabkitê³¼ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```
logs/
â”œâ”€â”€ <project>/
â”‚   â”œâ”€â”€ <run_name>.csv        # ë©”íŠ¸ë¦­ (epoch, loss, accuracy, ...)
â”‚   â”œâ”€â”€ <run_name>.yaml       # ì‹¤í—˜ ì„¤ì •
â”‚   â””â”€â”€ <run_name>.pt         # ì²´í¬í¬ì¸íŠ¸

web_helper/
â”œâ”€â”€ state/
â”‚   â””â”€â”€ db.sqlite             # ì‹¤í—˜ ì¸ë±ìŠ¤, í, ë””ë°”ì´ìŠ¤ ìƒíƒœ
â””â”€â”€ queue_logs/
    â””â”€â”€ <project>/
        â””â”€â”€ <experiment_id>/
            â”œâ”€â”€ config.yaml   # í ì‹¤í—˜ ì„¤ì •
            â”œâ”€â”€ stdout.log    # í‘œì¤€ ì¶œë ¥
            â””â”€â”€ stderr.log    # ì—ëŸ¬ ë¡œê·¸
```

**ì‘ë™ ì›ë¦¬**:

1. **cvlabkit** (CLI)ê°€ `./logs/`ì— ê²°ê³¼ ê¸°ë¡
2. **web_helper**ê°€ `watchdog`ë¡œ íŒŒì¼ ë³€ê²½ ê°ì§€
3. ë³€ê²½ ê°ì§€ ì‹œ DB ì—…ë°ì´íŠ¸ ë° SSE ì´ë²¤íŠ¸ ë°œìƒ
4. í”„ë¡ íŠ¸ì—”ë“œê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ UI ì—…ë°ì´íŠ¸

---

## ë¶„ì‚° ì‹¤í–‰ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë‹¨ì¼ ì„œë²„ + ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸

**ì„œë²„** (ì¤‘ì•™ ê´€ë¦¬, GPU ì—†ìŒ):
```bash
uv run app.py --server-only --host 0.0.0.0
```

**í´ë¼ì´ì–¸íŠ¸ 1** (GPU ì„œë²„ A):
```bash
uv run app.py --client-only --url http://server:8000
```

**í´ë¼ì´ì–¸íŠ¸ 2** (GPU ì„œë²„ B):
```bash
uv run app.py --client-only --url http://server:8000
```

**ì›Œí¬í”Œë¡œìš°**:

1. ì„œë²„ì—ì„œ ì‹¤í—˜ ì„¤ì • ë° íì— ì¶”ê°€
2. í´ë¼ì´ì–¸íŠ¸ê°€ 3ì´ˆë§ˆë‹¤ heartbeat ì „ì†¡
3. ì„œë²„ê°€ idle GPUë¥¼ ê°ì§€í•˜ë©´ ì‹¤í—˜ í• ë‹¹
4. í´ë¼ì´ì–¸íŠ¸ê°€ ì‹¤í—˜ ì‹¤í–‰ í›„ ë¡œê·¸ ë™ê¸°í™”
5. ì„œë²„ì—ì„œ ëª¨ë“  ê²°ê³¼ í™•ì¸

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë¡œì»¬ í†µí•© í™˜ê²½

**ë¡œì»¬ GPUê°€ ìˆëŠ” ê²½ìš°**:
```bash
uv run app.py
```

ì›¹ UI + ë¡œì»¬ GPU ì‹¤í–‰ ëª¨ë‘ ê°€ëŠ¥

---

## ë¬¸ì œ í•´ê²°

### ì‹¤í—˜ì´ íì—ì„œ ì‹œì‘ë˜ì§€ ì•ŠìŒ

**ì›ì¸**:

- ëª¨ë“  GPUê°€ busy ìƒíƒœ
- í´ë¼ì´ì–¸íŠ¸ heartbeat ëŠê¹€
- ì„¤ì • íŒŒì¼ ì˜¤ë¥˜

**í•´ê²°**:

1. Devices íƒ­ì—ì„œ GPU ìƒíƒœ í™•ì¸
2. í´ë¼ì´ì–¸íŠ¸ ë¡œê·¸ í™•ì¸: `tail -f /tmp/cvlab_client.log`
3. Execute íƒ­ì—ì„œ Dry-run ê²€ì¦

### SSE ì—°ê²°ì´ ëŠê¹€

**ì›ì¸**:

- ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ

**í•´ê²°**:

1. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì—ëŸ¬ í™•ì¸
2. í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨

### ë©”íŠ¸ë¦­ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ì›ì¸**:

- CSV íŒŒì¼ í˜•ì‹ ì˜¤ë¥˜
- ì¸ë±ì‹± ì§€ì—°

**í•´ê²°**:

1. `logs/<project>/<run_name>.csv` íŒŒì¼ í™•ì¸
2. Settings íƒ­ì—ì„œ "Reindex" ë²„íŠ¼ í´ë¦­
3. CSV í—¤ë”ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸ (epoch, loss, accuracy, ...)

---

## ê´€ë ¨ ë¬¸ì„œ

- [ë°°í¬ ê°€ì´ë“œ](deployment_guide.md) - ì„œë²„ ì„¤ì • ë° Docker ë°°í¬
- [ë¶„ì‚° ì‹¤í–‰ ê°€ì´ë“œ](distributed_execution_guide.md) - Server-Client êµ¬ì¡° ìƒì„¸ ì„¤ëª…
- [ì‹¤í—˜ì ê°€ì´ë“œ](user_guide_experimenter.md) - YAML ì„¤ì • ë° ì‹¤í—˜ ì‹¤í–‰
- [ë¬¸ì œ í•´ê²°](troubleshooting.md) - ì¼ë°˜ì ì¸ ì—ëŸ¬ í•´ê²° ë°©ë²•
